<section class="profile-header">

    <div class="container p-1">
        <div class="col-md-10 mx-auto d-flex flex-wrap justify-content-center">
            <div class="col-md-2 ">
                <img src="./assets/images/profile.svg" alt="profile-img" class="profile-img">
            </div>
            <div class="col-md-10 d-flex align-items-center">
                <h1 class="profile-name">&nbsp; | &nbsp; {{ userData ? userData.firstName : '' }}
                    {{ userData ?  userData.lastName : ''}}</h1>
            </div>
        </div>

    </div>

</section>

<section class="tabs">
    <div class="container">
        <mat-tab-group mat-align-tabs="center" color="accent" [(selectedIndex)]="tabIndex"
            (selectedTabChange)="onTabChanged($event)">
            <mat-tab label="Profile">
                <div class="tab">
                    <div class="col-md-12">
                        <!-- profile info -->

                        <div class="profile-section">
                            <div class="d-flex justify-content-between flex-wrap">
                                <h4 class="text-left title ">Personal Details :</h4>
                                <button mat-stroked-button color="primary">Change Password</button>
                            </div>

                            <div class="row p-1">
                                <div class="col-md-2">
                                    <label>Email ID:</label>
                                </div>
                                <div class="col-md-10">
                                    <p>{{userData ? userData.email : ''}}</p>
                                </div>
                            </div>
                            <!-- <div class="row p-1">
                                <div class="col-md-2">
                                    <label>Mobile No:</label>
                                </div>
                                <div class="col-md-10">
                                    <p>+91 8469443014</p>
                                </div>
                            </div>
                            <div class="row p-1">
                                <div class="col-md-2">
                                    <label>Status:</label>
                                </div>
                                <div class="col-md-10">
                                    <p>Active</p>
                                </div>
                            </div> -->


                        </div>

                    </div>
                </div>
                <hr class="w-50">
                <!-- <div class="col-md-12">
                    <div class="d-flex justify-content-between align-items-center  flex-wrap">
                        <h4 class="text-left title ">Address :</h4>
                        <button mat-stroked-button color="primary">Add</button>
                    </div>

                    <mat-card class="mat-elevation-z2">
                        <div class="d-flex justify-content-between">
                            <div>
                                <mat-form-field appearance="outline">
                                    <mat-label>Address Type</mat-label>
                                    <mat-select>
                                        <mat-option value="home">Home</mat-option>
                                        <mat-option value="ofice">Office</mat-option>
                                        <mat-option value="other">Other</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <button mat-button>Edit</button>
                        </div>
                        <mat-card-content class="p-2">

                            <div class="row p-1">
                                <div class="col-md-6">
                                    <mat-form-field class="w-100">
                                        <mat-label>Address Line 1</mat-label>
                                        <input matInput type="text">
                                    </mat-form-field>
                                </div>
                                <div class="col-md-6">
                                    <mat-form-field class="w-100">
                                        <mat-label>Address Line 2</mat-label>
                                        <input matInput type="text">
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row p-1">
                                <div class="col-md-4">
                                    <mat-form-field class="w-100">
                                        <mat-label>City</mat-label>
                                        <input matInput type="text">
                                    </mat-form-field>
                                </div>
                                <div class="col-md-4">
                                    <mat-form-field class="w-100">
                                        <mat-label>State</mat-label>
                                        <input matInput type="text">
                                    </mat-form-field>
                                </div>
                                <div class="col-md-4">
                                    <mat-form-field class="w-100">
                                        <mat-label>Pincode</mat-label>
                                        <input matInput type="text">
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row p-3 d-flex justify-content-end">
                                <button mat-button>Save</button>
                                <button mat-button>Cancel</button>
                            </div>
                        </mat-card-content>
                    </mat-card>

                </div> -->

            </mat-tab>
            <mat-tab label="History">
                <div class="tab pt-3">
                    <h4 class="text-left title">Filter :</h4>
                    <form [formGroup]="filterForm" #filterFrm="ngForm" (ngSubmit)="onSubmitForm(filterFrm)">
                        <div class="col-md-12 mx-auto">
                            <div class="d-flex flex-wrap">
                                <div class="col-md-3 col-sm-6">
                                    <mat-form-field>
                                        <mat-label>Date Filter</mat-label>
                                        <mat-select formControlName="dateFilter"
                                            (selectionChange)="onChangeDateFilter($event)">
                                            <mat-option value="L1W">Last 1 Week</mat-option>
                                            <mat-option value="L1M">Last 1 Month</mat-option>
                                            <mat-option value="L1Y">Last 1 Year</mat-option>
                                            <mat-option value="TOD">Today</mat-option>
                                            <mat-option value="YEST">Yesterday</mat-option>
                                            <mat-option value="Custom">Custom</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-3 col-sm-6">
                                    <mat-form-field>
                                        <input matInput formControlName="fromDate" [matDatepicker]="picker"
                                            placeholder="From">
                                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                        <mat-datepicker #picker></mat-datepicker>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-3 col-sm-6">
                                    <mat-form-field>
                                        <input matInput formControlName="toDate" [matDatepicker]="picker1"
                                            placeholder="To">
                                        <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                        <mat-datepicker #picker1></mat-datepicker>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-3 col-sm-6">
                                    <mat-form-field>
                                        <mat-label>Order Filter</mat-label>
                                        <mat-select formControlName="orderFilter">
                                            <mat-option value="All">All</mat-option>
                                            <mat-option value="Pending">Pending</mat-option>
                                            <mat-option value="Completed">Completed</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-3 ml-auto col-sm-6">
                                    <button mat-raised-button color="primary" type="submit">Search</button>
                                </div>
                            </div>
                        </div>
                    </form>

                    <h4 class="text-left title mt-3">Order History :</h4>
                    <h4 class="title " *ngIf="orderData &&  orderData.data.length <= 0">No Records Found !</h4>
                    <div class="mt-3 mb-3 mat-elevation-z3" *ngIf="orderData && orderData.data.length > 0">
                        <table class="listtable" #listTable mat-table [dataSource]="orderData" matSort>

                            <ng-container matColumnDef="id">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header> No. </th>
                                <td mat-cell *matCellDef="let element; let i=index"> {{i+1}} </td>
                            </ng-container>

                            <ng-container matColumnDef="awbNo">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header> Awb No. </th>
                                <td mat-cell *matCellDef="let element"> {{element.awbNo}} </td>
                            </ng-container>

                            <ng-container matColumnDef="insDt">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Date </th>
                                <td mat-cell *matCellDef="let element"> {{element.insDt  | date}} </td>
                            </ng-container>

                            <ng-container matColumnDef="product">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header> Product </th>
                                <td mat-cell *matCellDef="let element"> {{element.product}} </td>
                            </ng-container>

                            <ng-container matColumnDef="weight">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header> Weight (Kgs) </th>
                                <td mat-cell *matCellDef="let element"> {{element.weight}} </td>
                            </ng-container>

                            <ng-container matColumnDef="status">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
                                <td mat-cell *matCellDef="let element"> {{element.remarks}} </td>
                            </ng-container>

                            <ng-container matColumnDef="amount">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header> Price </th>
                                <td mat-cell *matCellDef="let element"> {{element.amount | currency:'INR'}} </td>
                            </ng-container>

                            <ng-container matColumnDef="action">
                                <th mat-header-cell *matHeaderCellDef> Action </th>
                                <td mat-cell *matCellDef="let element">
                                    <button title="Action" mat-icon-button color="accent"
                                        (click)="openDetailDialog(element)">
                                        <mat-icon>open_in_new</mat-icon>
                                    </button>
                                </td>
                            </ng-container>

                            <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayColumns;"></tr>
                        </table>
                        <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
                    </div>

                </div>
            </mat-tab>
            <mat-tab label="Calculator">
                <app-shipping-calc></app-shipping-calc>
            </mat-tab>
        </mat-tab-group>
    </div>
</section>